{extend name="admin@public/base_content" /}
{block name="body">}
<body>
{include file="admin@public/common" /}
<script src="__ADMIN__/js/laydate/laydate.js"></script>
<div class="container-fluid larry-wrapper">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12">
            <section class="panel panel-padding">
                <form id="form1" class="layui-form layui-form-pane" action="{:url('')}">
                    <div class="layui-form-item">
                        <label class="layui-form-label">卡面背景</label>
                        <div class="layui-input-inline">
                            <select class="tpl-form-input" jq-verify="required" jq-error="请选择" lay-filter="verify"  name="background_pic_url">
                                <option value="">无</option>
                                <option value="https://mmbiz.qpic.cn/mmbiz_png/jma8xEdia4Jy8Asgcv0tiaUPLcs0xBGiahUhOIVFpXCFibpBe5fwd6QGGE61MuZ2TmgCpcOqYN4WmTRhCapWYBpYkg/0" >至尊保</option>
                                <option value="https://mmbiz.qpic.cn/mmbiz_png/jma8xEdia4Jy8Asgcv0tiaUPLcs0xBGiahUbB4QaKTicNXrxoNq5Izd7WDgoKujvG5scaXzrWu5bGpNy8A3sJBzMDA/0" >无忧保</option>
                                <option value="https://mmbiz.qpic.cn/mmbiz_png/jma8xEdia4Jy8Asgcv0tiaUPLcs0xBGiahUCSRdO105TNZtrkVzWmjeEQXm1dE3JOzEVI1K7ZGhZuoALSFdrCWOng/0" >青春保</option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">商标名称</label>
                        <div class="layui-input-block">
                            <input type="text" name="brand_name" value="{$info.brand_name|default=''}"  placeholder="请输入商标名称" class="layui-input" jq-verify="required" jq-error="商标名称" style="color:red;">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">会员卡标题</label>
                        <div class="layui-input-block">
                            <input type="text" name="title" value="{$info.title|default=''}"  placeholder="请输入会员卡标题" class="layui-input" jq-verify="required" jq-error="会员卡标题" style="color:red;">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">颜色</label>
                        <div class="layui-input-block">
                            <input type="radio" value="Color010"  name="color" title="Color010" checked>
                            <span style="background-color:#63b359;border:1px;margin-left:-15px;margin-right:15px;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                            <input type="radio" value="Color020"  name="color" title="Color020">
                            <span style="background-color:#2c9f67;border:1px;margin-left:-15px;margin-right:15px;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                            <input type="radio" value="Color030"  name="color" title="Color030">
                            <span style="background-color:#509fc9;border:1px;margin-left:-15px;margin-right:15px;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                            <input type="radio" value="Color040"  name="color" title="Color040">
                            <span style="background-color:#5885cf;border:1px;margin-left:-15px;margin-right:15px;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                            <input type="radio" value="Color050"  name="color" title="Color050">
                            <span style="background-color:#9062c0;border:1px;margin-left:-15px;margin-right:15px;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                            <input type="radio" value="Color060"  name="color" title="Color060" >
                            <span style="background-color:#d09a45;border:1px;margin-left:-15px;margin-right:15px;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                            <input type="radio" value="Color070"  name="color" title="Color070" >
                            <span style="background-color:#e4b138;border:1px;margin-left:-15px;margin-right:15px;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                            <input type="radio" value="Color080"  name="color" title="Color080">
                            <span style="background-color:#ee903c;border:1px;margin-left:-15px;margin-right:15px;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                            <input type="radio" value="Color090"  name="color" title="Color090">
                            <span style="background-color:#dd6549;border:1px;margin-left:-15px;margin-right:15px;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                            <input type="radio" value="Color100"  name="color" title="Color100">
                            <span style="background-color:#cc463d;border:1px;margin-left:-15px;margin-right:15px;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        </div>
                        <input type="hidden" name="card_name" id="card_name" value="{$info.card_name|default=''}">
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">使用提醒</label>
                        <div class="layui-input-block">
                            <input type="text" name="notice" value="{$info.notice|default=''}"  placeholder="最多16个汉字" class="layui-input" jq-verify="required" jq-error="使用提醒">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">使用说明</label>
                        <div class="layui-input-block">
                            <textarea name="description" placeholder="请输入使用说明" class="layui-textarea">{$info.description|default=''}</textarea>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">有效期信息</label>
                        <div class="layui-input-inline">
                            <select class="tpl-form-input" jq-verify="required" jq-error="请选择" lay-filter="date_type"  name="date_type">
                                <option value="DATE_TYPE_FIX_TIME_RANGE" {if condition="'DATE_TYPE_FIX_TIME_RANGE' eq $info.date_type"}selected{/if}>固定有效期</option>
                                <option value="DATE_TYPE_FIX_TERM" {if condition="'DATE_TYPE_FIX_TERM' eq $info.date_type"}selected{/if}>固定时长</option>
                                <option value="DATE_TYPE_PERMANENT" {if condition="'DATE_TYPE_PERMANENT' eq $info.date_type"}selected{/if}>永久有效</option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item" id="time_range" {if condition="'DATE_TYPE_FIX_TERM' eq $info.date_type"}style="display:none;"{/if}>
                        <label class="layui-form-label">开始时间</label>
                        <div class="layui-input-inline">
                            <input type="text" name="begin_timestamp" id="begin_timestamp" value="{$info.begin_timestamp|default=date('Y-m-d')}"  class="layui-input"  style="width:150px;color:red;">
                        </div>                        
                    </div>
                     <div class="layui-form-item" id="time_term" {if condition="'DATE_TYPE_FIX_TIME_RANGE' eq $info.date_type"}style="display: none;"{/if}>
                        <label class="layui-form-label">生效时间</label>
                        <div class="layui-input-inline">
                            <input type="text" name="fixed_begin_term" id="fixed_begin_term" value="{$info.fixed_begin_term|default='0'}"  class="layui-input" jq-verify="required" jq-error="生效时间" style="width:150px;color:red;">
                        </div>
                        <label class="layui-form-label">有效天数</label>
                        <div class="layui-input-inline">
                            <input type="text" name="fixed_term" id="fixed_term" value="{$info.fixed_term|default='15'}"  class="layui-input " style="width:150px;color:red;">
                        </div>
                    </div>

                    <div class="layui-form-item">
                        <label class="layui-form-label">有效期至</label>
                        <div class="layui-input-block">
                            <input type="text" name="end_timestamp" id="end_timestamp" value="{$info.end_timestamp|default=''}"  placeholder="{:date('Y')}-12-31" class="layui-input"  style="width:150px;color:red;">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">数量</label>
                        <div class="layui-input-inline">
                            <input type="text" name="quantity" id="quantity" value="{$info.quantity|default='10'}"  class="layui-input" jq-verify="required" jq-error="数量" style="width:150px;color:red;">
                        </div>
                        <label class="layui-form-label">每人限制</label>
                        <div class="layui-input-inline">
                            <input type="text" name="get_limit" id="get_limit" value="{$info.get_limit|default='1'}"  class="layui-input " style="width:150px;color:red;">
                        </div>
                    </div>

                    <div class="layui-form-item">
                        <label class="layui-form-label">特权</label>
                        <div class="layui-input-block">
                             <textarea name="prerogative" placeholder="请输入特权" class="layui-textarea">{$info.prerogative|default=''}</textarea>
                        </div>
                    </div>


                    <div class="layui-input-block">
                        <input type="hidden" name="id" type="hidden" value="{$info.id|default=''}">
                        <input type="hidden" name="card_id" type="hidden" value="{$info.card_id|default=''}">
                        <button class="layui-btn" jq-submit lay-filter="submit" jq-tab="true" id="btn">立即提交</button>
                        <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                    </div>
                </form>
            </section>
        </div>
    </div>
</div>
</body>
{/block}
{block name="script"}
<script>
    layui.use(['default', 'myform','jquery'], function(){
        var form = layui.form();
        $ = layui.jquery;
        form.on('radio(card_id)', function (data) {
            //console.log(data);
            $("#card_name").val(data.elem.title);
            //alert($("#card_name").val());
        });
        form.on('select(date_type)', function(data){
            //console.log(data); data.value
            if(data.value=="DATE_TYPE_FIX_TERM")
            {
                $("#time_term").show();
                $("#time_range").hide();
            }else{
                $("#time_term").hide();
                $("#time_range").show();
            }
        });

    });
    laydate.render({
        elem: '#begin_timestamp'
        //指定元素
    });
    laydate.render({
        elem: '#end_timestamp'
        //指定元素
    });

</script>

{/block}